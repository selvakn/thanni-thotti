"use strict";angular.module("thanniThottiApp",["angularfire.firebase","angularMoment"]).filter("capitalize",function(){return function(a){return a?a.replace(/([^\W_]+[^\s-]*) */g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}):""}}).filter("inFeet",function(){return function(a){var b=a/30,c=parseInt(b),d=(12*(b-c)).toFixed(0);return c+"' "+d+'"'}}),angular.module("thanniThottiApp").controller("MainCtrl",["$scope","firebaseRef","syncData",function(a,b,c){function d(a){var b=(100*a).toString(10);return["hsl(",b,",100%,50%)"].join("")}c("readings/tank1",1).$asObject().$bindTo(a,"tank1Readings"),c("meta/tank1").$asObject().$loaded().then(function(b){a.$watch("tank1Readings",function(){var c=angular.copy(a.tank1Readings[Object.keys(a.tank1Readings)[0]]);angular.extend(c,b),c.level=c.depth-c.distance,c.dateObj=new Date(1e3*c.timestamp),c.color=d(c.level/c.maxHeight),a.tank1=c},!0)}),c("readings/tank2",1).$asObject().$bindTo(a,"tank2Readings"),c("meta/tank2").$asObject().$loaded().then(function(b){a.$watch("tank2Readings",function(){var c=angular.copy(a.tank2Readings[Object.keys(a.tank2Readings)[0]]);angular.extend(c,b),c.level=c.depth-c.distance,c.dateObj=new Date(1e3*c.timestamp),c.color=d(c.level/c.maxHeight),a.tank2=c},!0)})}]),angular.module("thanniThottiApp").constant("angularFireVersion","0.6").constant("loginRedirectPath","/login").constant("loginProviders","").constant("FBURL","https://thanni.firebaseio.com"),angular.module("angularfire.firebase",["firebase"]).factory("firebaseRef",["Firebase","FBURL",function(a,b){function c(a){for(var b=0;b<a.length;b++)"object"==typeof a[b]&&(a[b]=c(a[b]));return a.join("/")}return function(){return new a(c([b].concat(Array.prototype.slice.call(arguments))))}}]).service("syncData",["$firebase","firebaseRef",function(a,b){return function(c,d){var e=b(c);return d&&(e=e.limit(d)),a(e)}}]);